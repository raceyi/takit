<!--
  Generated template for the UserInfoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar hideBackButton="true" >
    <ion-buttons start>
        <button (click)="back()" class="cancel-icon" color="black" small ion-button no-margin clear>
            <ion-icon name="icon-cancel"></ion-icon>
        </button>
      </ion-buttons>
       <ion-title class="title">회원 정보</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  
<ion-grid>
  <!--
<ion-row align-items-center>
  <ion-col>
    <ion-label>이메일 </ion-label>
  </ion-col>
  <ion-col>
    {{email}}
  </ion-col>
</ion-row>
-->  
<ion-row align-items-center>
  <ion-col col-8>
    <ion-label>휴대폰 번호 </ion-label>
    <ion-input class="cashIdInput" type="tel" [disabled]="!phoneModification" [(ngModel)]="phone" (keyup)="phoneKeyUp()"></ion-input>
    <p [hidden]="!phoneModAuth" class="detail" >인증 완료 되었습니다.</p>
  </ion-col>
  <ion-col col-4>
  <button ion-button outline color="skyblue" [hidden]="phoneModification" (click)="modifyPhone()">수정</button>    
  <button ion-button outline color="skyblue" [hidden]="!phoneModification" (click)="performAuth()">인증하기</button>    
  </ion-col>
</ion-row>

<ion-row align-items-center [hidden]="!storageProvider.emailLogin">
  <ion-col col-8>
    <ion-label> 비밀번호 </ion-label>
    <ion-input class="cashIdInput" type="password" [disabled]="!passwordChange" [(ngModel)]="oldPassword" placeholder="비밀번호"></ion-input>
  </ion-col>
  <ion-col col-4>
  <button ion-button outline color="skyblue" [hidden]="passwordChange" (click)="changePassword()">수정</button>    
  <button ion-button outline color="skyblue" [hidden]="!passwordChange" (click)="cancelChangePassword()">취소</button>    
  </ion-col>
</ion-row>

<ion-row align-items-center [hidden]="!passwordChange">
  <ion-col col-8>
    <ion-label> 새비밀번호</ion-label>
    <ion-input class="cashIdInput" style="font-family: sans-serif;" type="password" [disabled]="!passwordChange" [(ngModel)]="password"  (keyup)="passwordUpNoti()"></ion-input>
  </ion-col>
  <ion-col col-4>
  </ion-col>  
</ion-row>
<p [hidden]="passwordGuideHide">{{passwordGuide}}</p>
<ion-row align-items-center [hidden]="!passwordChange">
  <ion-col col-8>
    <ion-label> 새비밀번호 확인</ion-label>
    <ion-input class="cashIdInput" style="font-family: sans-serif;" type="password" [disabled]="!passwordChange" [(ngModel)]="passwordConfirm"  (keyup)="passwordConfirmUp()"></ion-input>
  </ion-col>
  <ion-col col-4>
  </ion-col>
</ion-row>
<p [hidden]="!passwordChange || (passwordChange && passwordMatch)">비밀번호가 일치하지 않습니다.</p>

<ion-row align-items-center>
  <ion-col col-6>
    현금영수증 발급번호
  </ion-col>
  <ion-col col-6>
    <ion-input class="cashIdInput" [(ngModel)]="receiptId" type="tel"  (keyup)="receiptIdKeyUp()"></ion-input>
  </ion-col>
</ion-row>
<ion-row radio-group [(ngModel)]="receiptType">
    <ion-col>
      <ion-item>
        <ion-label>소득공제용</ion-label>
        <ion-radio color="black" value="IncomeDeduction" (ionSelect)="expenseProofOff()"></ion-radio>
      </ion-item>
    </ion-col>
    <ion-col>
      <ion-item>
       <ion-label>지출증빙용</ion-label>
        <ion-radio color="black" value="ExpenseProof" (ionSelect)="expenseProofOn()"></ion-radio>
      </ion-item>
    </ion-col>
</ion-row>
<ion-row align-items-center [hidden]="receiptType=='IncomeDeduction'">
  <ion-col> 상호 </ion-col>
  <ion-col>
    <ion-input class="cashIdInput" type="text" [(ngModel)]="taxIssueCompanyName" (keyup)="companyNameKeyUp()"></ion-input>
  </ion-col>
</ion-row>
<ion-row align-items-center [hidden]="receiptType=='IncomeDeduction'">
  <ion-col>
    이메일<span style="font-size:xx-small;">(전자 세금계산서 발급)</span>
  </ion-col>
  <ion-col>  
    <ion-input class="cashIdInput" type="text" [(ngModel)]="taxIssueEmail" (keyup)="emailKeyUp()"></ion-input>
  </ion-col>
</ion-row>
</ion-grid>

</ion-content>
<ion-footer>
    <button style="padding:0px;margin:0px" ion-button color="red" [disabled]="!modification" full (click)="saveInfo()">회원정보 저장하기</button>
</ion-footer>
